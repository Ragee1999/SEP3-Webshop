@page "/customers"
@inject HttpClient HttpClient

<h3>Customers</h3>

@if (customers == null)
{
<p>Loading...</p>
}
else
{
<ul>
    @foreach (var customer in customers)
    {
    <li>
        <strong>@customer.FirstName @customer.LastName</strong><br />
        Email: @customer.Email<br />
        Phone: @customer.PhoneNumber<br />
    </li>
    }
</ul>
}
@code {
private List<Customer>? customers;

protected override async Task OnInitializedAsync()
{
// Fetch customers from backend
    await LoadCustomers();
}

private async Task LoadCustomers()
{
    try
    {
        var http = new HttpClient { BaseAddress = new Uri("http://localhost:8080") };
        customers = await http.GetFromJsonAsync<List<Customer>>("/customers");
    }
    catch (Exception ex)
    {
        Console.WriteLine($"Error fetching products: {ex.Message}");
    }
}

// Customer model
public class Customer
{
public long Id { get; set; }
public string FirstName { get; set; }
public string LastName { get; set; }
public string Email { get; set; }
public string PhoneNumber { get; set; }

}

}