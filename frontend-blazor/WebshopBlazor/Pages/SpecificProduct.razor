@page "/SpecificProduct/{Id:int}"
@using WebshopBlazor.Models
<div class="row container-fluid my-5">
    
    <!-- left section (images) -->
    <div class="col-6 p-5">
        
        <!-- head image -->
        <div class="border-1 border-dark border rounded">
            <img src="product.img" class="img-fluid h-auto my-3" style="min-height: 300px" alt="Head image of product"/>
        </div>
        
        <!-- alt images -->
        <div class="my-3 mx-1 d-flex flex-row justify-content-around">
            <div class="col-2 border-1 border-dark border rounded">
                <img src="product.img" class="img-fluid h-auto" style="min-height: 100px" alt="Alt img of product"/>
            </div>
            <div class="col-2 border-1 border-dark border rounded">
                <img src="product.img" class="img-fluid h-auto" style="min-height: 100px" alt="Alt img of product"/>
            </div>
            <div class="col-2 border-1 border-dark border rounded">
                <img src="product.img" class="img-fluid h-auto" style="min-height: 100px" alt="Alt img of product"/>
            </div>
            <div class="col-2 border-1 border-dark border rounded">
                <img src="product.img" class="img-fluid h-auto" style="min-height: 100px" alt="Alt img of product"/>
            </div>
        </div>
        
    </div>
    
    <!-- right section (information) -->
    <div class="col-6 p-5">

        <!-- product name section-->
        <div class="my-3">
            <h1>Product Name</h1>
        </div>

        <!-- product price section-->
        <div class="my-3">
            <h3>Price</h3>
        </div>

        <!-- product add to cart section-->
        <div class="my-3">
            <a href="#" class="btn btn-primary text-center">Add to Cart</a>
        </div>
        
        <!-- product description section-->
        <div class="my-3">
            <p>
                "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. 
                Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. 
                Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. 
                Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."
            </p>
        </div>
        
    </div>
    
</div>


@code {
    [Parameter] public int Id { get; set; }
    private Product product = new();

    protected override async Task OnInitializedAsync()
    {
        await LoadProduct();
    }

    private async Task LoadProduct()
    {
        try
        {
            var http = new HttpClient { BaseAddress = new Uri("http://localhost:8080") };
            product = await http.GetFromJsonAsync<Product>($"/products/{Id}");
        }
        catch (Exception ex)
        {
            Console.WriteLine($"Error loading product: {ex.Message}");
        }
    }

    public class Product
    {
        public long Id { get; set; }
        public string Name { get; set; }
        public string Image { get; set; }
        public double Price { get; set; }
        public int StockQuantity { get; set; }
        public string Description { get; set; }
    }
}
